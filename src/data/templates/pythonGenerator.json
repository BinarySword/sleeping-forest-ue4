[
    "#   Copyright (c) 2020 Debashish Patra, MPL-2.0",
    "#",
    "#   This is a generated file. Please do not edit.",
    "",
    "import unreal",
    "import json",
    "import re",
    "import ntpath",
    "import os",
    "",
    "# Gives the filename from fullpath",
    "",
    "",
    "def path_leaf(path):",
    "\thead, tail = ntpath.split(path)",
    "\treturn tail or ntpath.basename(head)",
    "",
    "",
    "def StartUp():",
    "\twith open(r'$1/AssetData.json') as filename:",
    "\t\tclean_json = json.load(filename)",
    "\t\tfor types in clean_json:",
    "\t\t\tletter = []",
    "\t\t\tfor arr in types[\"array\"]:",
    "\t\t\t\tletter.append(buildImportTask(arr, \"/Game/Excelsior\"))",
    "\t\t\texecuteImportTasks(letter)",
    "",
    "",
    "def buildImportTask(filepath, destination_path):",
    "\t# options",
    "\ttaskops = unreal.FbxImportUI()",
    "\ttaskops.set_editor_property(\"import_materials\", False)",
    "\ttaskops.set_editor_property(\"import_textures\", False)",
    "\t# task definition",
    "\ttask = unreal.AssetImportTask()",
    "\ttask.set_editor_property(\"automated\", True)",
    "\ttask.set_editor_property(\"filename\", filepath)",
    "",
    "\tfilename = path_leaf(filepath)  # Get just filename from fullpath",
    "\tfilename = os.path.splitext(filename)[0]",
    "\ttask.set_editor_property(\"destination_name\", filename)",
    "\ttask.set_editor_property(\"destination_path\", destination_path)",
    "",
    "\ttask.set_editor_property(\"replace_existing\", True)",
    "\ttask.set_editor_property(\"save\", True)",
    "\ttask.set_editor_property(\"options\", taskops)",
    "\treturn task",
    "",
    "",
    "def executeImportTasks(tasks):",
    "\tunreal.AssetToolsHelpers.get_asset_tools().import_asset_tasks(tasks)",
    "",
    "",
    "StartUp()"
]